"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[241],{6918:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return r},contentTitle:function(){return u},metadata:function(){return d},toc:function(){return c},default:function(){return m}});var o=n(3117),a=n(102),s=(n(7294),n(3905)),i=["components"],r={sidebar_position:4},u="Compute in the cloud",d={unversionedId:"tutorials/cloud-compute",id:"tutorials/cloud-compute",isDocsHomePage:!1,title:"Compute in the cloud",description:"Sage provides a number of interfaces which other systems can build on top of. In this section, we explore some of the most common applications of Sage.",source:"@site/docs/tutorials/cloud-compute.md",sourceDirName:"tutorials",slug:"/tutorials/cloud-compute",permalink:"/docs/tutorials/cloud-compute",editUrl:"https://github.com/sagecontinuum/sage-docs/edit/main/docs/tutorials/cloud-compute.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Access and use data",permalink:"/docs/tutorials/accessing-data"}},c=[{value:"Triggering on data from the edge",id:"triggering-on-data-from-the-edge",children:[],level:2}],l={toc:c};function m(e){var t=e.components,n=(0,a.Z)(e,i);return(0,s.kt)("wrapper",(0,o.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"compute-in-the-cloud"},"Compute in the cloud"),(0,s.kt)("p",null,"Sage provides a number of interfaces which other systems can build on top of. In this section, we explore some of the most common applications of Sage."),(0,s.kt)("h2",{id:"triggering-on-data-from-the-edge"},"Triggering on data from the edge"),(0,s.kt)("p",null,"A common application is monitoring data from the edge and triggering actions when values exceed a threshold or an unusual event is detected."),(0,s.kt)("p",null,"As a getting started example, we demonstrate an outline of how this can be done in Sage using the ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/sagecontinuum/sage-data-client"},"Sage data client"),"."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},'import sage_data_client\nimport time\n\nwhile True:\n    # query pressure data in recent 10 minute window\n    df = sage_data_client.query(\n        start="-10m",\n        filter={\n            "name": "env.pressure",\n            "sensor": "bme680",\n        }\n    )\n\n    # compute stddev for nodes\' pressure data in window\n    std = df.groupby("meta.vsn").value.std()\n\n    # find all pressure events exceeding an example threshold\n    events = std[std > 8.0]\n\n    # "post" vsn to alert system\n    for vsn in events.index:\n        print(f"post {vsn} to alert system")\n\n    time.sleep(60)\n')),(0,s.kt)("p",null,'The above code queries a 10 minute window of atmospheric pressure data every minute and "posts" alerts for nodes exceeding a predefined standard deviation threshold.'),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://github.com/sagecontinuum/sage-data-client/blob/main/examples/pressure_event_trigger.py"},"This example")," and more can be found in the Sage data client ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/sagecontinuum/sage-data-client/blob/main/examples/"},"examples")," directory."))}m.isMDXComponent=!0}}]);